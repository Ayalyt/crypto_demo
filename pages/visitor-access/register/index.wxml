<auth-user isPhoneOnly bind:ready="handleAuthReady">
    <view class="visitor-access-register" wx:if="{{show}}">
        <view class="access-info">
            <view class="title">访问房间</view>
            <view class="item">
                <view class="info-value">{{visitorInfo.apartmentName}}-{{visitorInfo.buildingName}}号楼</view>
            </view>
            <fun-form-input bindinput="handleGetRoomName" class="input-value" label="房间" maxlength="10" placeholder="请输入房间" value="{{visitorInfo.roomName}}"></fun-form-input>
            <view class="item">
                <view class="label">拜访原因</view>
                <view class="tab-value">
                    <view bindtap="handleGetReason" class="faq-tab {{visitorInfo.reasonNum===item.value?'active':''}}" data-typename="{{item.text}}" id="{{item.value}}" wx:for="{{reasonList}}" wx:for-index="itemIndex" wx:key="itemIndex">{{item.text}}</view>
                </view>
            </view>
            <fun-form-input notRequired bindinput="handleGetRemark" label=" 备注" maxlength="50" placeholder="请输入备注" value="{{visitorInfo.remarks}}" wx:if="{{visitorInfo.reason==='其他'}}"></fun-form-input>
        </view>
        <view class="basic-info">
            <view class="title">访客信息</view>
            <fun-form-input notRequired bindinput="handleGetName" label="访客姓名" maxlength="50" placeholder="请输入您的姓名" value="{{visitorInfo.name}}"></fun-form-input>
            <fun-form-input disabled label="手机号" maxlength="11" placeholder="请输入您的手机号" value="{{visitorInfo.phone}}"></fun-form-input>
            <fun-form-select bindchange="handleGetCardType" items="{{certificates}}" label="证件类型" placeholder="请选择证件类型" title="选择证件类型" value="{{visitorInfo.certificateType}}"></fun-form-select>
            <fun-form-input notRequired bindinput="handleGetCertificateNumber" label="证件号码" maxlength="18" placeholder="请输入您的证件号码" value="{{visitorInfo.certificateNumber}}"></fun-form-input>
        </view>
        <view class="footer-btn">
            <fun-button bindclick="handleSubmit" text="提交"></fun-button>
        </view>
    </view>
    <fun-loading wx:if="{{showLoading}}"></fun-loading>
</auth-user>
